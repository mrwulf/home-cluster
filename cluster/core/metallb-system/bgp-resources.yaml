---
apiVersion: metallb.io/v1beta1
kind: IPAddressPool
metadata:
  name: bgp-default
  namespace: metallb-system
spec:
  addresses:
    - 10.0.10.1-10.0.10.20 # "${METALLB_LB_RANGE}"
---
apiVersion: metallb.io/v1beta1
kind: BGPAdvertisement
metadata:
  name: bgp-advertisement
  namespace: metallb-system
spec:
  ipAddressPools:
    - bgp-default
---
apiVersion: metallb.io/v1beta2
kind: BGPPeer
metadata:
  name: opnsense-bgp
  namespace: metallb-system
spec:
  myASN: 65430
  peerASN: 65400
  peerAddress: 10.0.0.1
  holdTime: "5m"
#   bfdProfile: opnsense-bfd
# ---
# apiVersion: metallb.io/v1beta1
# kind: BFDProfile
# metadata:
#   name: opnsense-bfd
#   namespace: metallb-system
# spec:
#   receiveInterval: 3000
#   transmitInterval: 2700
#   detectMultiplier: 3
