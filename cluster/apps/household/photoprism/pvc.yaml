---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: photoprism-assets
  labels:
    type: nfs
spec:
  storageClassName: flux-managed-storage-class
  capacity:
    storage: 100Gi
  accessModes:
    - ReadWriteOnce
  nfs:
    server: ourbackup.home
    path: /volume1/k8s-storage/active/photoprism-assets

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: photoprism-assets
  namespace: household
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: flux-managed-storage-class
  resources:
    requests:
      storage: 100Gi

# ---
# apiVersion: v1
# kind: PersistentVolumeClaim
# metadata:
#   name: photoprism-config
#   namespace: household
# spec:
#   accessModes:
#     - ReadWriteOnce

#   resources:
#     requests:
#       storage: 20Gi

#   storageClassName: ceph-ecblock

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: photoprism-db
  namespace: household
spec:
  accessModes:
    - ReadWriteOnce

  resources:
    requests:
      storage: 20Gi

  storageClassName: ceph-ecblock

---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: photoprism-backups
  labels:
    type: nfs
spec:
  storageClassName: flux-managed-storage-class
  capacity:
    storage: 100Gi
  accessModes:
    - ReadWriteOnce
  nfs:
    server: ourbackup.home
    path: /volume1/k8s-storage/backups/photoprism-backups

---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: photoprism-backups
  namespace: household
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: flux-managed-storage-class
  resources:
    requests:
      storage: 20Gi
